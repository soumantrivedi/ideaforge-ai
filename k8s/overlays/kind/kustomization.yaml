apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: ideaforge-ai

resources:
  - ../../base
  - configmap-env.yaml  # Kind-specific ConfigMap overrides

# Kind-specific image configuration (uses local images with imagePullPolicy: Never)
images:
  - name: ideaforge-ai-backend
    newName: ideaforge-ai-backend
    newTag: latest
  - name: ideaforge-ai-frontend
    newName: ideaforge-ai-frontend
    newTag: latest

# Secrets are loaded via 'make kind-load-secrets' which uses .env file
# If you want to use kustomize secretGenerator instead, create secrets.yaml
# and uncomment the secretGenerator section below:
# secretGenerator:
#   - name: ideaforge-ai-secrets
#     behavior: merge
#     files:
#       - secrets.yaml
#     options:
#       disableNameSuffixHash: true

